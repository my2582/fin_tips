<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>금융 꿀Tip단지</title>
  <meta name="description" content="세미나 Q&A와 바로 실행 Tip을 한 곳에 모은 금융 꿀Tip단지">
  <meta property="og:title" content="금융 꿀Tip단지">
  <meta property="og:description" content="세미나 Q&A와 바로 실행 Tip을 한 곳에 모은 꿀Tip단지">
  <meta property="og:type" content="website">
  <meta name="author" content="Your Name">
  <style>
    :root {
      --bg: #0f172a;
      --fg: #e5e7eb;
      --muted: #9ca3af;
      --card: #111827;
      --accent: #38bdf8;
      --chip: #1f2937;
      --ok: #10b981;
    }
    * { box-sizing: border-box; }
    html, body { margin: 0; padding: 0; background: var(--bg); color: var(--fg); font-family: -apple-system, BlinkMacSystemFont, "Pretendard", "Segoe UI", Roboto, Helvetica, Arial, sans-serif; }
    .wrap { max-width: 780px; margin: 0 auto; padding: 16px; }
    header { display: grid; gap: 8px; padding: 16px; background: linear-gradient(180deg, #0b1220, #0f172a); border-radius: 16px; border: 1px solid #1f2937; }
    h1 { margin: 0; font-size: 22px; line-height: 1.3; }
    .sub { font-size: 12px; color: var(--muted); }
    .updated { font-size: 12px; color: var(--muted); }
    .promo { white-space: pre-wrap; color: var(--muted); font-size: 14px; }
    .toolbar { display: grid; grid-template-columns: 1fr auto; gap: 8px; align-items: center; padding-top: 4px; }
    .search { width: 100%; padding: 12px 14px; border-radius: 12px; border: 1px solid #374151; background: #0b1220; color: var(--fg); font-size: 15px; }
    .counter { font-size: 12px; color: var(--muted); padding: 0 8px; }
    details.section { background: var(--card); border: 1px solid #1f2937; border-radius: 14px; padding: 0; overflow: hidden; }
    details + details { margin-top: 12px; }
    summary { cursor: pointer; list-style: none; padding: 14px 16px; display: flex; align-items: center; justify-content: space-between; gap: 8px; }
    summary::-webkit-details-marker { display: none; }
    .title { font-weight: 600; }
    .datetime { font-size: 12px; color: var(--muted); }
    .badge { background: var(--chip); padding: 4px 8px; border-radius: 999px; font-size: 12px; color: var(--muted); }
    .items { display: grid; gap: 10px; padding: 12px; }
    .card { background: #0b1220; border: 1px solid #1f2937; border-radius: 12px; padding: 12px; display: grid; gap: 8px; }
    .qline { display: flex; align-items: baseline; gap: 8px; flex-wrap: wrap; }
    .qno { font-weight: 700; font-feature-settings: 'tnum' 1, 'lnum' 1; }
    .qtext { font-size: 15px; line-height: 1.5; }
    .askers { font-size: 12px; color: var(--muted); }
    .answer { font-size: 14px; line-height: 1.55; white-space: pre-wrap; }
    .answer a { color: #38bdf8; text-decoration: underline; word-break: break-all; }
    .tip { font-size: 13px; padding: 8px 10px; border-radius: 10px; background: #052e2b; border: 1px solid #064e3b; white-space: pre-wrap; }
    .tip::before { content: "바로 실행 Tip"; display: inline-block; margin-right: 8px; font-weight: 600; color: var(--ok); }
    .badge-new {
      background: #083344;
      border: 1px solid #0e7490;
      color: #67e8f9;
      padding: 2px 6px;
      border-radius: 999px;
      font-size: 11px;
      font-weight: 700;
      letter-spacing: .2px;
      margin-left: 6px;
    }
    .footer { text-align: center; color: var(--muted); font-size: 12px; padding: 20px 0 10px; }
    .owner { margin-top: 6px; font-size: 12px; color: var(--muted); }
    .owner a { color: var(--accent); text-decoration: none; }
    @media (min-width: 640px) {
      header { grid-template-columns: 1fr; }
    }
  </style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>💡 금융 꿀Tip단지</h1>
      <div class="sub">Maintained by 염민수 · <a href="mailto:nlfelix@gmail.com">nlfelix@gmail.com</a></div>
      <div class="updated" id="updated"></div>
      <div class="promo" id="promo"></div>
      <div class="toolbar">
        <input id="search" class="search" placeholder="질문·답변·Tip 검색" />
        <div class="counter" id="counter"></div>
      </div>
    </header>
    <main id="container" style="margin-top:14px; display:grid; gap:12px;"></main>
    <div class="footer">
      <div>모바일에서 쉽게 보이도록 최적화된 버전 • 업데이트 계속 예정</div>
      <div class="owner">Owner: Yeom Minsu · <a href="mailto:nlfelix@gmail.com">nlfelix@gmail.com</a></div>
    </div>
  </div>

  <script>
    // ====== DATA (빌드 시 치환됩니다) ======
    const DATA = {"promo":"남들이 뭘 고민하는지, 무슨 질문을 하는지 궁금하셨죠?\n1:1 세션 참석자분으로부터 받은 피드백을 참고하여 금융 꿀Tip단지를 만들었습니다.\n여기에 답변까지 합쳐서 모아둡니다. 앞으로 계속 채워갈 생각입니다.","sections":[{"title":"온라인 2차 사전질문","datetime":"2025년 8월 10일","items":[{"no":1,"q":"싱가포르에 은이나 구리 ETF가 있나요?","a":"상장돼 있지 않습니다. https://www.sgx.com/securities/etf-screener 가셔서 Asset class를 Commodity로 두면 원자재 관련 ETF가 '금'만 나옵니다.","tip":"","isNew":true,"askers":1},{"no":2,"q":"커버하는 국가가 제일 많은 IBKR에서조차 한국 개별주식 거래가 안 되는 이유는?","a":"현재 국내 증권사의 계열사 또는 대주주만 한국 주식거래용 계좌개설을 할 수 있기 때문입니다. 그렇지만 현재 규제완화 중으로, 앞으로 가능해질 수 있습니다. 참고: https://www.kocis.go.kr/koreanet/view.do?seq=1051073","tip":"","isNew":true,"askers":1}]},{"title":"오프라인 1:1 세션 1차","datetime":"2025년 7월 - 8월","items":[{"no":1,"q":"여유 자금의 지나친 안전자산 중심배분(80%+)에서 벗어나는 법","a":"질문자의 상황상 세미나의 단기(A), 중기(B), 장기(C) 배분에서 A=3개월 월급, C의 Maximum은 전체 금융자산의 70%. 안전자산 중심에서 의미있게 벗어나려면? 전체 주식시장 또는 투자전략을 사길 권장.","tip":"","isNew":false,"askers":1},{"no":2,"q":"한국의 원화자산 투자","a":"TDF 권장. 이유는 원화자산 투자에 신경을 줄이면서 동시에 전체 주식시장/채권시장 투자 가능하기 때문 (TDF란 나이 들어갈수록 주식비중 줄여주는 펀드 상품)","tip":"","isNew":false,"askers":1},{"no":3,"q":"싱가포르 달러로 원화 환전 시 환차익을 보는데, 한국 계좌/싱가포르 계좌간 적당한 투자비율은?","a":"환 시장을 보고 원화 신규 투자처 고민에 시간을 투자하는 것은 권장하지 않음. 환차익을 보고 원화로 투자하는 것은 효율적인 시간 활용이 아니고 장기간 이익보는 거래는 불가능한데다 송금 금액도 크지 않아 차익의 크기도 크지 않을 것이기 때문임.","tip":"","isNew":false,"askers":1}]},{"title":"온라인 1차","datetime":"2025.7.24 밤9 - 10시","items":[{"no":1,"q":"\"나의\" 재테크 전략, 어떻게 하면 좋을까요?","a":"(1) 자산관리의 가장 중요한 원칙: 시간에 대한 적절한 보상을 받아야 마땅하다는 것.\n(2) 자산증식의 핵심은 수익률(in % return)이 아닌 수익금(in amount)\n(3) \"나의(개인화된)\" 자산관리의 시작은 시간과 amount에 대한 고민에서 시작 - 실행은 오히려 쉬움","tip":"초단기채권펀드(MMF)만 사도 싱가포르 은행 이자 0.05%보다 수십 배 더 이자 나옵니다.","isNew":false,"askers":11},{"no":2,"q":"싱가포르 세금 시스템에 대해 알고 싶어요.","a":"(1) 싱가포르 상장주식, 미국 상장주식: 양도차익에 대한 세금이 없어요.\n(2) 싱가포르 주식에서 나오는 배당: 세금 없어요.\n(3) 미국 주식, 미국 상장ETF에서 나오는 배당: 배당액의 30% 떼요. 예) 1천불 투자, 50불 배당 -> 15불 세금\n(4) 영국에 상장된 미국투자ETF (\"UCITS\")에서 나오는 배당: 배당액의 15%만 떼요. 예) 위와 동일 -> 7.5불 세금","tip":"","isNew":false,"askers":2},{"no":3,"q":"싱가포르에서의 한국주식 투자방법","a":"한국증권사의 앱을 사용해야 합니다. 다른 나라 앱으로는 거래 안 돼요.","tip":"","isNew":false,"askers":2},{"no":4,"q":"국민연금 어떻게 하죠?","a":"최소금액 납부를 권장합니다. 왜냐하면 싱가포르 거주자는 한국 입장에서는 저소득층으로 분류되기 때문에 혜택이 크기 때문","tip":"","isNew":false,"askers":2},{"no":5,"q":"한국에서 싱가포르로의 자산이전","a":"별도 문의 시 해당 분야 전문가 소개 가능","tip":"","isNew":false,"askers":1}]}]};
    // ====== /DATA ======

    // 안전한 HTML 변환 + 링크 + 줄바꿈 유지
    function escapeHtml(str) {
      return String(str).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m]));
    }
    function linkify(text) {
      const urlRegex = /(https?:\/\/[^\s)<>"']+)/g;
      return text.replace(urlRegex, (url) => `<a href="${url}" target="_blank" rel="noopener noreferrer">${url}</a>`);
    }
    function formatAnswer(raw) {
      const safe = escapeHtml(raw || "");
      const withLinks = linkify(safe);
      return withLinks.replace(/\n/g, "<br>");
    }

    function el(tag, cls, text) {
      const e = document.createElement(tag);
      if (cls) e.className = cls;
      if (text !== undefined) e.textContent = text;
      return e;
    }

    function render(sections, term="") {
      const root = document.getElementById('container');
      root.innerHTML = "";
      let visibleItemCount = 0;

      document.getElementById('promo').textContent = DATA.promo || "";
      document.getElementById('updated').textContent = DATA.lastUpdated ? `업데이트: ${DATA.lastUpdated}` : "";

      sections.forEach(sec => {
        const items = sec.items.filter(it => {
          const hay = (sec.title + " " + sec.datetime + " " + it.q + " " + it.a + " " + (it.tip||"")).toLowerCase();
          return hay.includes(term.toLowerCase());
        });
        if (items.length === 0) return;

        const details = el('details', 'section');
        details.open = true;

        const summary = el('summary');
        const left = el('div');
        left.appendChild(el('div', 'title', sec.title));
        left.appendChild(el('div', 'datetime', sec.datetime));
        summary.appendChild(left);
        summary.appendChild(el('span', 'badge', `질문 ${items.length}개`));
        details.appendChild(summary);

        const itemsWrap = el('div', 'items');
        items.forEach(it => {
          const card = el('div', 'card');

          const qline = el('div', 'qline');
          qline.appendChild(el('span', 'qno', `Q${it.no}.`));
          qline.appendChild(el('div', 'qtext', it.q));

          // NEW 뱃지
          if (it.isNew) {
            const badge = el('span', 'badge-new', 'NEW');
            qline.appendChild(badge);
          }

          card.appendChild(qline);

          const askers = el('div', 'askers', `질문자 수: ${it.askers}`);
          card.appendChild(askers);

          const answer = el('div', 'answer');
          answer.innerHTML = formatAnswer(it.a);
          card.appendChild(answer);

          if ((it.tip || "").trim().length > 0) {
            const tip = el('div', 'tip');
            tip.innerHTML = formatAnswer(it.tip);
            card.appendChild(tip);
          }

          itemsWrap.appendChild(card);
          visibleItemCount += 1;
        });

        details.appendChild(itemsWrap);
        root.appendChild(details);
      });

      document.getElementById('counter').textContent = visibleItemCount > 0 ? `결과 ${visibleItemCount}건` : '';
    }

    const input = document.getElementById('search');
    input.addEventListener('input', (e) => render(DATA.sections, e.target.value));
    render(DATA.sections);
  </script>

  <script>
    (function() {
      const endpoint = '/api/track';
      const storageKey = 'ft_client_id';
      function getCid() {
        try {
          let cid = localStorage.getItem(storageKey);
          if (!cid) {
            cid = 'cid.' + Math.random().toString(36).slice(2) + '.' + Date.now();
            localStorage.setItem(storageKey, cid);
          }
          return cid;
        } catch (_) {
          return 'cid.' + Math.random().toString(36).slice(2) + '.' + Date.now();
        }
      }
      function payload(base) {
        return {
          cid: getCid(),
          page: location.href,
          title: document.title,
          referrer: document.referrer || '',
          lang: navigator.language || '',
          tz: Intl.DateTimeFormat().resolvedOptions().timeZone || '',
          screen: (screen && (screen.width + 'x' + screen.height)) || '',
          ...base,
        };
      }
      function send(data) {
        const blob = new Blob([JSON.stringify(data)], { type: 'application/json' });
        if (navigator.sendBeacon && navigator.sendBeacon(endpoint, blob)) return;
        try {
          fetch(endpoint, { method: 'POST', headers: { 'Content-Type': 'application/json' }, body: JSON.stringify(data), keepalive: true });
        } catch (_) {}
      }
      // page_view
      send(payload({ event_name: 'page_view' }));

      // search event (throttled)
      const input = document.getElementById('search');
      if (input) {
        let t = 0;
        input.addEventListener('input', (e) => {
          const now = Date.now();
          if (now - t < 1000) return; // throttle 1s
          t = now;
          const q = String(e.target.value || '').slice(0, 200);
          if (!q) return; // only send non-empty
          send(payload({
            event_name: 'search',
            params: { search_term: q }
          }));
        });
      }
    })();
  </script>
</body>
</html>